function str_is_img_src(e){if(e=e.toLowerCase(),-1==e.indexOf("https://")&&-1==e.indexOf("http://")&&-1==e.indexOf("//"))return!1;for(let t of img_ext)if(-1!=e.indexOf("."+t))return!0;return!1}function youtube_id_from_uri(e){if(-1==e.indexOf("youtu.be/")&&-1==e.indexOf("youtube.com/"))return"";let t=["youtube-nocookie.com/embed/","youtube.com/embed/","youtube.com/watch?v=","youtu.be/"];for(let i of t){let t=e.indexOf(i);if(-1!=t){e=e.substring(t+i.length);break}}return e.split("?")[0].split("&")[0].split("#")}function youtube_thumb_from_id(e,t="hq"){return"https://img.youtube.com/vi/"+e+"/"+t+"default.jpg"}function youtube_thumb_from_uri(e,t="hq"){let i=youtube_id_from_uri(e);return i?youtube_thumb_from_id(i,t):""}function date_from_str(e=""){if(-1!=["year","month","week",""].indexOf(e)){let t=new Date;return"year"==e?t.setTime(t.getTime()-ms_in_year):"month"==e?t.setTime(t.getTime()-ms_in_month):"week"==e&&t.setTime(t.getTime()-ms_in_week),t}let t=new Date(e);return"Invalid Date"==t?null:t}function date_to_rfc3339(e=new Date){return"String"==typeof e&&(e=date_from_str(e)),e?e.toISOString().split(".")[0]+"-00:00":""}function nonce(){return this.id||(this.id=0),this.id++}class SS_Core{}Set.prototype.first=function(){return this.values().next().value},img_ext=["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp",".png",".svg",".webp"],ms_in_second=ms_in_sec=1e3,ms_in_minute=ms_in_min=60*ms_in_sec,ms_in_hour=ms_in_h=60*ms_in_min,ms_in_day=ms_in_d=24*ms_in_h,ms_in_week=ms_in_w=7*ms_in_d,ms_in_month=ms_in_mo=30*ms_in_d,ms_in_year=ms_in_y=365*ms_in_d;